// Kigali Cooker - i18n (English / Kinyarwanda)
const translations = {
    en: {
        // Nav
        nav_home: 'Home', nav_training: 'Training', nav_workers: 'Workers',
        nav_services: 'Book Service', nav_login: 'Login', nav_register: 'Register',
        nav_dashboard: 'Dashboard', nav_admin: 'Admin Panel', nav_logout: 'Logout',

        // Hero
        hero_badge: 'ðŸ† Trusted Professional Services',
        hero_title_1: 'Find Trusted', hero_title_2: 'Professionals', hero_title_3: 'Near You',
        hero_desc: 'Connect with admin-verified workers for catering, cooking, beauty, and more. Quality service guaranteed.',
        hero_btn_services: 'Browse Services', hero_btn_workers: 'Find Workers',
        stat_workers: 'Verified Workers', stat_services: 'Services', stat_clients: 'Happy Clients',

        // Sections
        featured_title: 'Featured Professionals', featured_subtitle: 'Top-rated and trusted workers handpicked by our admin team.',
        services_title: 'Our Services', services_subtitle: 'Professional services delivered by verified experts.',
        training_title: 'Training & Skills', training_subtitle: 'Learn practical skills through our training videos.',
        testimonials_title: 'What Clients Say', testimonials_subtitle: 'Real feedback from our satisfied clients.',

        // Worker
        view_profile: 'View Profile', book_now: 'Book Now', contact_whatsapp: 'WhatsApp',
        worker_id: 'Worker ID', location: 'Location', rating: 'Rating', reviews: 'Reviews',
        skills: 'Skills', about: 'About', conduct: 'Professional Conduct', verified: 'âœ“ Verified',

        // Services Page
        select_service: 'Select Service', select_worker: 'Select Worker',
        select_date: 'Select Date', select_time: 'Select Time', place_order: 'Place Order',
        booking_summary: 'Booking Summary', total: 'Total',
        booking_success: 'Your request has been received. We will reply as soon as possible.',

        // Auth
        register_title: 'Create Account', login_title: 'Welcome Back',
        full_name: 'Full Name', email: 'Email Address', phone: 'Phone Number',
        password: 'Password', address: 'Street / Address',
        verify_email: 'Verify Email', verification_code: 'Verification Code',
        enter_code: 'Enter the code sent to your email',
        already_account: 'Already have an account?', no_account: "Don't have an account?",
        register_btn: 'Create Account', login_btn: 'Login',

        // Dashboard
        my_bookings: 'My Bookings', profile: 'Profile', booking_history: 'Booking History',
        status: 'Status', date: 'Date', service: 'Service', worker: 'Worker', price: 'Price',
        pending: 'Pending', confirmed: 'Confirmed', completed: 'Completed', cancelled: 'Cancelled',
        rate_service: 'Rate Service', no_bookings: 'No bookings yet.',

        // Admin
        admin_dashboard: 'Dashboard', admin_workers: 'Workers', admin_requests: 'Requests',
        admin_ratings: 'Ratings', admin_featured: 'Featured', admin_prices: 'Prices',
        add_worker: 'Add Worker', edit_worker: 'Edit Worker', remove_worker: 'Remove',
        approve: 'Approve', reject: 'Reject', suspend: 'Suspend', feature: 'Feature',
        total_workers: 'Total Workers', total_requests: 'Total Requests',
        pending_requests: 'Pending', avg_rating: 'Avg Rating',

        // Filters
        all: 'All', search_placeholder: 'Search workers...',
        filter_location: 'Filter by Location', filter_rating: 'Filter by Rating',
        filter_category: 'Filter by Category',

        // Footer
        footer_desc: 'Connecting you with trusted, admin-verified professionals for quality services in Kigali.',
        quick_links: 'Quick Links', contact_us: 'Contact Us',
        developed_by: 'Developed by', portfolio: 'Portfolio',

        // Misc
        loading: 'Loading...', save: 'Save', cancel: 'Cancel', close: 'Close',
        confirm: 'Confirm', delete: 'Delete', edit: 'Edit', back: 'Back',
        per_event: 'per event', per_day: 'per day', per_session: 'per session',
        per_batch: 'per batch', per_trip: 'per trip', per_project: 'per project',
        rwf: 'RWF', watch_video: 'Watch Video'
    },

    kn: {
        // Nav
        nav_home: 'Ahabanza', nav_training: 'Amahugurwa', nav_workers: 'Abakozi',
        nav_services: 'Gusaba Serivisi', nav_login: 'Kwinjira', nav_register: 'Kwiyandikisha',
        nav_dashboard: 'Ikibaho', nav_admin: 'Ubuyobozi', nav_logout: 'Gusohoka',

        // Hero
        hero_badge: 'ðŸ† Serivisi z\'abahanga bizezwe',
        hero_title_1: 'Shaka', hero_title_2: 'Abahanga', hero_title_3: 'Bari hafi yawe',
        hero_desc: 'Hura n\'abakozi bemejwe na admin ku bijyanye no guteka, ubwiza, n\'ibindi. Serivisi nziza irazwe.',
        hero_btn_services: 'Reba Serivisi', hero_btn_workers: 'Shakisha Abakozi',
        stat_workers: 'Abakozi Bemejwe', stat_services: 'Serivisi', stat_clients: 'Abakiriya Bahiriwe',

        // Sections
        featured_title: 'Abahanga Batoranyijwe', featured_subtitle: 'Abakozi b\'inzobere batoranyijwe n\'ubuyobozi.',
        services_title: 'Serivisi Zacu', services_subtitle: 'Serivisi z\'umwuga zitangwa n\'abahanga bemejwe.',
        training_title: 'Amahugurwa & Ubumenyi', training_subtitle: 'Iga ubumenyi bw\'umwuga binyuze mu makuru.',
        testimonials_title: 'Ibyo Abakiriya Bavuga', testimonials_subtitle: 'Ibitekerezo nyakuri by\'abakiriya bacu bahiriwe.',

        // Worker
        view_profile: 'Reba Umwirondoro', book_now: 'Saba Nonaha', contact_whatsapp: 'WhatsApp',
        worker_id: 'Nomero y\'Umukozi', location: 'Aho Aherereye', rating: 'Amanota', reviews: 'Ibitekerezo',
        skills: 'Ubumenyi', about: 'Ibyerekeye', conduct: 'Imyitwarire y\'Umwuga', verified: 'âœ“ Byemejwe',

        // Services
        select_service: 'Hitamo Serivisi', select_worker: 'Hitamo Umukozi',
        select_date: 'Hitamo Itariki', select_time: 'Hitamo Isaha', place_order: 'Saba Serivisi',
        booking_summary: 'Incamake y\'Isaba', total: 'Igiteranyo',
        booking_success: 'Icyifuzo cyawe cyakiriwe. Tuzagusubiza vuba bishoboka.',

        // Auth
        register_title: 'Fungura Konti', login_title: 'Murakaza Neza',
        full_name: 'Izina Ryuzuye', email: 'Imeyili', phone: 'Telefoni',
        password: 'Ijambo ry\'Ibanga', address: 'Aderesi',
        verify_email: 'Emeza Imeyili', verification_code: 'Kode y\'Ikemura',
        enter_code: 'Andika kode yoherejwe kuri imeyili yawe',
        already_account: 'Usanzwe ufite konti?', no_account: 'Nta konti ufite?',
        register_btn: 'Fungura Konti', login_btn: 'Kwinjira',

        // Dashboard
        my_bookings: 'Amasaba Yanjye', profile: 'Umwirondoro', booking_history: 'Amateka y\'Amasaba',
        status: 'Imimerere', date: 'Itariki', service: 'Serivisi', worker: 'Umukozi', price: 'Igiciro',
        pending: 'Birategereje', confirmed: 'Byemejwe', completed: 'Byarangiye', cancelled: 'Byahagaritswe',
        rate_service: 'Tanga Amanota', no_bookings: 'Nta masaba ahari.',

        // Admin
        admin_dashboard: 'Ikibaho', admin_workers: 'Abakozi', admin_requests: 'Amasaba',
        admin_ratings: 'Amanota', admin_featured: 'Abatuyemo', admin_prices: 'Ibiciro',
        add_worker: 'Ongeraho Umukozi', edit_worker: 'Hindura Umukozi', remove_worker: 'Kuramo',
        approve: 'Emeza', reject: 'Hagarika', suspend: 'Hagarika Gato', feature: 'Shyira Imbere',
        total_workers: 'Abakozi Bose', total_requests: 'Amasaba Yose',
        pending_requests: 'Ategereje', avg_rating: 'Amanota Agereranye',

        // Filters
        all: 'Byose', search_placeholder: 'Shakisha abakozi...',
        filter_location: 'Shaka aho baherereye', filter_rating: 'Shaka ku manota',
        filter_category: 'Shaka ku cyiciro',

        // Footer
        footer_desc: 'Tuguhujije n\'abahanga bemejwe ku serivisi nziza muri Kigali.',
        quick_links: 'Aho Wahita', contact_us: 'Twandikire',
        developed_by: 'Byakozwe na', portfolio: 'Inyandiko',

        // Misc
        loading: 'Biragenda...', save: 'Bika', cancel: 'Hagarika', close: 'Funga',
        confirm: 'Emeza', delete: 'Siba', edit: 'Hindura', back: 'Subira Inyuma',
        per_event: 'kuri buri birori', per_day: 'ku munsi', per_session: 'ku isomo',
        per_batch: 'kuri buri mushinga', per_trip: 'ku rugendo', per_project: 'ku mushinga',
        rwf: 'RWF', watch_video: 'Reba Videwo'
    }
};

function getCurrentLang() {
    return localStorage.getItem('kc_lang') || 'en';
}

function setLang(lang) {
    localStorage.setItem('kc_lang', lang);
    applyTranslations();
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
}

function t(key) {
    const lang = getCurrentLang();
    return (translations[lang] && translations[lang][key]) || (translations.en[key]) || key;
}

function applyTranslations() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.dataset.i18n;
        if (el.tagName === 'INPUT' && el.type !== 'submit') {
            el.placeholder = t(key);
        } else {
            el.textContent = t(key);
        }
    });
}
